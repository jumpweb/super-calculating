(()=>{"use strict";var e,n={96571:(e,n,r)=>{var t=r(67294),s=r(73935),o=r(91424);function i(e){return Math.floor(Math.random()*e)}function u(){return"rgb("+i(255)+","+i(255)+","+i(255)+")"}var a=r(85893);const c=(0,o.ZP)("div")({div:{marginTop:"1rem"}}),l=(0,o.ZP)("div")({display:"inline","button:first-of-type":{marginRight:"1rem"}}),d=(0,o.ZP)("div")({marginBottom:"1rem"}),m=function({answerInput:e,answerButton:n,clearButton:r,errorMessage:t}){return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{children:e}),(0,a.jsxs)(l,{children:[n,r]}),(0,a.jsx)("div",{children:t})]})};var f=r(58165);const h=function({onClick:e}){return(0,a.jsx)(f.Z,{variant:"contained",color:"success",onClick:e,children:"Check Answer"})},g=function({onClick:e}){return(0,a.jsx)(f.Z,{variant:"contained",color:"secondary",onClick:e,children:"Clear"})},x=(0,o.ZP)("div")({display:"flex",gap:"10px",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"}),w=(0,o.ZP)(f.Z)({minWidth:0,width:"50px",height:"50px"});function j({keys:e,onKeyPressed:n}){return e.map(((e,r)=>(0,a.jsx)(w,{variant:"contained",onClick:()=>n(e),children:e},r)))}const p=function({keys:e,onKeyPressed:n}){return(0,a.jsx)(x,{children:(0,a.jsx)(j,{keys:e,onKeyPressed:n})})},y=function({onKeyPressed:e}){return(0,a.jsx)(p,{keys:["1","2","3","4","5","6","7","8","9","0"],onKeyPressed:e})},b=function(e){return e.show?e.children:(0,a.jsx)(a.Fragment,{})},Q=function({show:e}){return(0,a.jsx)(b,{show:e,children:"Please enter an answer first"})},O="unanswered",v="correct",A="wrong",Z=function({userAnswer:e,onEnterAnswer:n,onCheckAnswer:r,onClearAnswer:s}){const{checkAnswer:o,keyPadKeyPressed:i,hasErrors:u}=function(e,n,r){const[s,o]=(0,t.useState)(!1);return{checkAnswer:()=>{""!==e?r():o(!0)},keyPadKeyPressed:r=>{s&&o(!1),n(e+r)},hasErrors:s}}(e,n,r);return(0,a.jsx)(m,{answerInput:(0,a.jsx)(y,{onKeyPressed:i}),answerButton:(0,a.jsx)(h,{onClick:o}),clearButton:(0,a.jsx)(g,{onClick:s}),errorMessage:(0,a.jsx)(Q,{show:u})})},S=(0,o.ZP)("h3")({display:"inline"}),C=function({question:e}){return(0,a.jsx)(S,{children:`${e.value} = `})},k=function({onNext:e}){return(0,a.jsx)(f.Z,{variant:"contained",color:"success",onClick:e,children:"Next question"})},P=function({onEndGame:e}){return(0,a.jsx)(f.Z,{variant:"contained",color:"success",onClick:e,children:"End game"})},N=(0,o.ZP)("div")({marginTop:"1rem"}),R=function({hasMoreQuestions:e,onNextQuestion:n,onEndGame:r}){return(0,a.jsx)(N,{children:e?(0,a.jsx)(k,{onNext:n}):(0,a.jsx)(P,{onEndGame:r})})},E=(0,o.ZP)("img")({width:"10rem",marginBottom:"1rem"}),I=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{src:"assets/correct.png"}),(0,a.jsx)("div",{children:"Correct!!"})]})},G=function({correctAnswer:e}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{src:"assets/oh-no.png"}),(0,a.jsx)("div",{children:"Oh No!!"}),(0,a.jsx)("div",{children:`The correct answer is ${e}`})]})},T=function({answerState:e,correctAnswer:n}){return e===v?(0,a.jsx)(I,{}):e===A?(0,a.jsx)(G,{correctAnswer:n}):(0,a.jsx)(a.Fragment,{})},q=(0,o.ZP)("h3")({display:"inline"}),D=function({answer:e}){return(0,a.jsx)(q,{children:e})},B=({question:e,answer:n})=>({value:e,answer:n}),M=()=>({value:"",answer:0}),$=function({hasMoreQuestions:e,onAskNextQuestion:n,onQuestionAnswered:r,onEndGame:s}){const{nextQuestion:o,askNextQuestion:i}=function(e){const[n,r]=(0,t.useState)(M()),s=()=>r(e());return(0,t.useEffect)((()=>{s()}),[]),{nextQuestion:n,askNextQuestion:s}}(n),{userAnswer:u,clearUserAnswer:c,updateUserAnswer:l}=function(){const[e,n]=(0,t.useState)("");return{userAnswer:e,clearUserAnswer:()=>{n("")},updateUserAnswer:e=>{n(e)}}}(),{answerState:d,checkAnswer:m,resetAnswerState:f}=function(e,n,r){const[s,o]=(0,t.useState)(O);return{answerState:s,resetAnswerState:()=>{o(O)},checkAnswer:()=>{let t=e.answer===parseInt(n)?v:A;o(t),r(e,n,t)}}}(o,u,r);return d===O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{question:o}),(0,a.jsx)(D,{answer:u}),(0,a.jsx)(Z,{userAnswer:u,onEnterAnswer:l,onCheckAnswer:()=>{m()},onClearAnswer:c})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T,{answerState:d,correctAnswer:o.answer}),(0,a.jsx)(R,{hasMoreQuestions:e,onNextQuestion:()=>{c(),f(),i()},onEndGame:s})]})},F="notStarted",H="started",_="completed",K=(0,o.ZP)("div")({position:"relative",top:"50%",transform:"translateY(-50%)"}),L=(0,o.ZP)("div")({marginLeft:"1rem",marginRight:"1rem",height:"100%"}),U=function({gameState:e,gameStarter:n,inGameStats:r,gameBoard:t,scoreBoard:s}){return(0,a.jsx)(L,{children:(()=>{switch(e){case F:return(0,a.jsx)(K,{children:n});case H:return(0,a.jsxs)(K,{children:[r,t]});case _:return s;default:throw new Error(`Unknown game state ${e}`)}})()})};var z=r(9573),J=r(38732),W=r(3694),Y=r(46926),V=r(56011),X=r(97896);const ee=e=>new Date(1e3*e).toISOString().substr(14,5),ne=(0,o.ZP)("div")({display:"flex",flexDirection:"column",height:"100%"}),re=(0,o.ZP)("h3")({marginTop:"2rem"});function te({gameResults:e,lastGameResults:n}){return r=n,0===Object.keys(r).length?(0,a.jsx)(se,{gameResults:e}):(0,a.jsx)(oe,{gameResults:e,lastGameResults:n});var r}function se({gameResults:e}){return(0,a.jsx)(z.Z,{size:"small",sx:{marginTop:"2rem"},children:(0,a.jsxs)(J.Z,{children:[(0,a.jsx)(ae,{name:"Time taken",value:ee(e.elapsedTime)}),(0,a.jsx)(ae,{name:"Questions asked",value:e.totalNumberOfQuestions}),(0,a.jsx)(ae,{name:"Questions answered correctly",value:e.numberOfQuestionsAnsweredCorrectly}),(0,a.jsx)(ae,{name:"Questions answered incorrectly",value:e.numberOfQuestionsAnsweredIncorrectly}),(0,a.jsx)(ae,{name:"Percentage answered correctly",value:`${ie(e)}%`})]})})}function oe({gameResults:e,lastGameResults:n}){return(0,a.jsxs)(z.Z,{size:"small",sx:{marginTop:"2rem"},children:[(0,a.jsx)(V.Z,{children:(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{}),(0,a.jsx)(Y.Z,{align:"center",children:"Current game"}),(0,a.jsx)(Y.Z,{align:"center",children:"Previous game"})]})}),(0,a.jsxs)(J.Z,{children:[(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{align:"left",children:"Time taken"}),(0,a.jsx)(Y.Z,{align:"right",children:ee(e.elapsedTime)}),(0,a.jsx)(Y.Z,{align:"right",children:ee(n.elapsedTime)})]}),(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{align:"left",children:"Questions asked"}),(0,a.jsx)(Y.Z,{align:"right",children:e.totalNumberOfQuestions}),(0,a.jsx)(Y.Z,{align:"right",children:n.totalNumberOfQuestions})]}),(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{align:"left",children:"Questions answered correctly"}),(0,a.jsx)(Y.Z,{align:"right",children:e.numberOfQuestionsAnsweredCorrectly}),(0,a.jsx)(Y.Z,{align:"right",children:n.numberOfQuestionsAnsweredCorrectly})]}),(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{align:"left",children:"Questions answered incorrectly"}),(0,a.jsx)(Y.Z,{align:"right",children:e.numberOfQuestionsAnsweredIncorrectly}),(0,a.jsx)(Y.Z,{align:"right",children:n.numberOfQuestionsAnsweredIncorrectly})]}),(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{align:"left",children:"Percentage answered correctly"}),(0,a.jsx)(Y.Z,{align:"right",children:`${ie(e)}%`}),(0,a.jsx)(Y.Z,{align:"right",children:`${ie(n)}%`})]})]})]})}const ie=e=>e.numberOfQuestionsAnsweredCorrectly/e.totalNumberOfQuestions*100,ue=(0,o.ZP)(W.Z)({backgroundColor:"#f0f0f5"});function ae({name:e,value:n}){return(0,a.jsxs)(ue,{children:[(0,a.jsx)(Y.Z,{align:"left",children:e}),(0,a.jsx)(Y.Z,{align:"right",children:n})]})}function ce({answerHistory:e}){return(0,a.jsx)(X.Z,{sx:{flex:"1 0px",marginTop:"1rem"},children:(0,a.jsxs)(z.Z,{size:"small",stickyHeader:!0,children:[(0,a.jsx)(V.Z,{children:(0,a.jsxs)(W.Z,{children:[(0,a.jsx)(Y.Z,{align:"center",children:"Question"}),(0,a.jsx)(Y.Z,{align:"center",children:"You answered"}),(0,a.jsx)(Y.Z,{align:"center",children:"Correct answer"}),(0,a.jsx)(Y.Z,{})]})}),(0,a.jsx)(J.Z,{children:e.map(((e,n)=>(0,a.jsx)(le,{question:e.question,userAnswer:e.userAnswer,answerState:e.answerState},n)))})]})})}function le({question:e,userAnswer:n,answerState:r}){return(0,a.jsxs)(W.Z,{children:[(0,a.jsx)(Y.Z,{align:"center",children:e.value}),(0,a.jsx)(Y.Z,{align:"center",children:n}),(0,a.jsx)(Y.Z,{align:"center",children:e.answer}),(0,a.jsx)(Y.Z,{align:"center",children:de(r)})]})}const de=e=>e===v?(0,a.jsx)("p",{children:"✅"}):e===A?(0,a.jsx)("p",{children:"❌"}):"",me=function(e){const{gameResults:n,lastGameResults:r,answerHistory:t}=e;return(0,a.jsxs)(ne,{children:[(0,a.jsx)(re,{children:"It's the end of the game, here are your results."}),(0,a.jsx)(te,{gameResults:n,lastGameResults:r}),(0,a.jsx)(ce,{answerHistory:t})]})},fe=(0,o.ZP)("div")({paddingBottom:"1rem"}),he=(0,o.ZP)("h3")({margin:0,whiteSpace:"nowrap"}),ge=function({elapsedSeconds:e,questionNumber:n,totalNumberOfQuestions:r}){return(0,a.jsxs)(fe,{children:[(0,a.jsx)(he,{children:`Elapsed time: ${ee(e)}`}),(0,a.jsx)(he,{children:`Question ${n} of ${r}`})]})};var xe=r(861),we=r(87027);function je(e){const n=e.split(" ");let r="";for(let e=0;e<n.length;e++)if(r=`${r}${n[e]}`,pe(r)<0)return!0;return!1}function pe(e){try{return(0,we.Z)(e)}catch{return}}function ye(){return xe.get({numberRange:"0-10",amountOfNumber:"3-4",operations:["+","-"]})}function be(){return Math.random()<=.5?function(){const e=xe.get({numberRange:"0-60",amountOfNumber:"2-2",operations:["+"]});return B(e)}():B(function(e){let n;do{n=e()}while(n.answer<0||je(n.question));return n}(ye))}const Qe=function(e){const{elapsedSeconds:n,resumeTimer:r,pauseTimer:s}=function(){const[e,n]=(0,t.useState)(0),[r,s]=(0,t.useState)(!1),o=(0,t.useRef)(0);(0,t.useEffect)((()=>{r&&i()}),[r,e]),(0,t.useEffect)((()=>()=>{u()}),[]);const i=()=>{o.current=setTimeout((()=>{n(e+1)}),1e3)},u=()=>{s(!1),clearInterval(o.current)};return{isRunning:r,elapsedSeconds:e,pauseTimer:u,resumeTimer:()=>{s(!0)}}}(),[o,i]=(0,t.useState)(F),{gameStatistics:u,onAskQuestion:a,onQuestionAnswered:c}=function(e){const[n,r]=(0,t.useState)({totalNumberOfQuestions:e,numberOfQuestionsAsked:0,numberOfQuestionsRemaining:e,numberOfQuestionsAnsweredCorrectly:0,numberOfQuestionsAnsweredIncorrectly:0});(0,t.useEffect)((()=>{s(e)}),[e]);const s=e=>{r({...n,totalNumberOfQuestions:e,numberOfQuestionsRemaining:e})},o=e=>e===v?n.numberOfQuestionsAnsweredCorrectly+1:n.numberOfQuestionsAnsweredCorrectly,i=e=>e===A?n.numberOfQuestionsAnsweredIncorrectly+1:n.numberOfQuestionsAnsweredIncorrectly;return{gameStatistics:n,onAskQuestion:()=>{r({...n,numberOfQuestionsAsked:n.numberOfQuestionsAsked+1})},onQuestionAnswered:e=>{r({...n,numberOfQuestionsRemaining:n.numberOfQuestionsRemaining-1,numberOfQuestionsAnsweredCorrectly:o(e),numberOfQuestionsAnsweredIncorrectly:i(e)})}}}(e),{recordAnswer:l,answerHistory:d}=(()=>{const[e,n]=(0,t.useState)([]);return{answerHistory:e,recordAnswer:(r,t,s)=>{const o=[...e,{question:r,userAnswer:t,answerState:s}];n(o)}}})(),m=(0,t.useRef)(!1);(0,t.useEffect)((()=>()=>{f()}),[]);const f=()=>{m.current=!0};return{gameState:o,elapsedSeconds:n,gameStatistics:u,answerHistory:d,hasMoreQuestions:u.numberOfQuestionsRemaining>0,totalNumberOfQuestions:u.totalNumberOfQuestions,numberOfQuestionsAsked:u.numberOfQuestionsAsked,numberOfQuestionsAnsweredCorrectly:u.numberOfQuestionsAnsweredCorrectly,numberOfQuestionsAnsweredIncorrectly:u.numberOfQuestionsAnsweredIncorrectly,startGame:()=>{!1===m.current&&(i(H),r())},endGame:()=>{i(_)},askNextQuestion:()=>(r(),a(),be()),questionAnswered:(e,n,r)=>{s(),l(e,n,r),c(r)}}},Oe=function({children:e}){return(0,a.jsx)("h2",{style:{color:u()},children:e})},ve={stopped:"stopped",starting:"starting",incrementing:"incrementing",isIncrementing:e=>e===ve.incrementing,isStopped:e=>e===ve.stopped},Ae=(e,n)=>{switch(n.type){case ve.starting:return{...e,intervalState:ve.incrementing,count:1};case ve.incrementing:return{...e,count:e.count+1};case ve.stopped:return{...e,intervalState:ve.stopped}}},Ze={intervalState:ve.Stopped,count:0},Se=function({text:e,onCountDownStarted:n,onCountDownCompleted:r}){const{value:s,isCountingDown:o,startCountdown:i}=function(e,n,r){const[{count:s,intervalState:o},i]=(0,t.useReducer)(Ae,Ze),u=(0,t.useRef)(0);(0,t.useEffect)((()=>{ve.isIncrementing(o)&&a()}),[s,o]),(0,t.useEffect)((()=>()=>{c()}),[]);const a=()=>setTimeout((()=>{ve.isStopped(o)||(s<e.length-1?i({type:ve.incrementing}):r())}),1e3),c=()=>{i({type:ve.stopped}),clearTimeout(u.current)};return{value:e[s],isCountingDown:ve.isIncrementing(o),startCountdown:()=>{n(),i({type:ve.starting})}}}(e,n,r);return o?(0,a.jsx)(Oe,{children:s}):(0,a.jsx)(f.Z,{variant:"outlined",color:"secondary",onClick:i,children:s})};var Ce=r(81413),ke=r(56986);const Pe=function({hide:e,onChange:n,defaultNumberOfQuestions:r}){const[s,o]=(0,t.useState)(r);return e?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ce.Z,{id:"question-selector",children:`Number of questions: ${s}`}),(0,a.jsx)(ke.ZP,{"aria-labelledby":"question-selector",min:1,defaultValue:r,valueLabelDisplay:"off",onChange:e=>{o(e.target.value),n(e.target.value)}})]})},Ne=(0,o.ZP)("div")({display:"inline"}),Re=(0,o.ZP)(Ne)({marginLeft:"1rem"}),Ee=function({text:e,defaultNumberOfQuestions:n,onChangeNumberOfQuestions:r,onCountDownCompleted:s}){const[o,i]=(0,t.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ne,{children:(0,a.jsx)(Pe,{hide:o,defaultNumberOfQuestions:n,onChange:r})}),(0,a.jsx)(Re,{children:(0,a.jsx)(Se,{text:e,onCountDownStarted:()=>i(!0),onCountDownCompleted:s})})]})},Ie="super_calculating_game_results",Ge={addGameResults:e=>Promise.resolve(localStorage.setItem(Ie,JSON.stringify(e))),getLastGameResults:()=>{return Promise.resolve((e=localStorage.getItem(Ie))?JSON.parse(e):{});var e}};function Te(e){return{elapsedTime:e.elapsedSeconds,totalNumberOfQuestions:e.totalNumberOfQuestions,numberOfQuestionsAnsweredCorrectly:e.numberOfQuestionsAnsweredCorrectly,numberOfQuestionsAnsweredIncorrectly:e.numberOfQuestionsAnsweredIncorrectly}}const qe=function({defaultNumberOfQuestions:e,startupCountDown:n}){const[r,s]=(0,t.useState)(e),o=Qe(r),i=function(e,n,r){const[s,o]=(0,t.useState)({});return(0,t.useEffect)((()=>{e.getLastGameResults().then((e=>{o(e)}))}),[]),(0,t.useEffect)((()=>{r===_&&e.addGameResults(n)}),[r]),s}(Ge,Te(o),o.gameState);return(0,a.jsx)(U,{gameState:o.gameState,gameStarter:(0,a.jsx)(Ee,{text:n,defaultNumberOfQuestions:e,onChangeNumberOfQuestions:s,onCountDownCompleted:o.startGame}),inGameStats:(0,a.jsx)(ge,{elapsedSeconds:o.elapsedSeconds,questionNumber:o.numberOfQuestionsAsked,totalNumberOfQuestions:r}),gameBoard:(0,a.jsx)($,{hasMoreQuestions:o.hasMoreQuestions,onAskNextQuestion:o.askNextQuestion,onQuestionAnswered:o.questionAnswered,onEndGame:o.endGame}),scoreBoard:(0,a.jsx)(me,{gameResults:Te(o),lastGameResults:i,answerHistory:o.answerHistory})})},De=(0,o.ZP)("div")({display:"grid",gridTemplateRows:"auto 1fr",justifyItems:"center",minHeight:"100%"}),Be=(0,o.ZP)("h1")({margin:0,gridRow:1}),Me=(0,o.ZP)("div")({gridRow:2,textAlign:"center"}),$e=()=>(function(e,n){!function(e,n){(0,t.useEffect)((()=>{n(),setInterval((()=>{n()}),e)}),[])}(e,(function(){document.body.style.backgroundColor=n()}))}(2e3,u),(0,a.jsxs)(De,{children:[(0,a.jsx)(Be,{children:"Super Calculating"}),(0,a.jsx)(Me,{children:(0,a.jsx)(qe,{defaultNumberOfQuestions:10,startupCountDown:["Start","5","4","3","2","1","GO!"]})})]}));s.render((0,a.jsx)($e,{}),document.getElementById("app"))}},r={};function t(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}};return n[e].call(o.exports,o,o.exports,t),o.exports}t.m=n,e=[],t.O=(n,r,s,o)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,s,o]=e[c],u=!0,a=0;a<r.length;a++)(!1&o||i>=o)&&Object.keys(t.O).every((e=>t.O[e](r[a])))?r.splice(a--,1):(u=!1,o<i&&(i=o));u&&(e.splice(c--,1),n=s())}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,s,o]},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var s,o,[i,u,a]=r,c=0;for(s in u)t.o(u,s)&&(t.m[s]=u[s]);if(a)var l=a(t);for(n&&n(r);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return t.O(l)},r=self.webpackChunkgame_stream_search=self.webpackChunkgame_stream_search||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var s=t.O(void 0,[736],(()=>t(96571)));s=t.O(s)})();